<GroupBox Name="GBDVuser_role" cols="xs12 sm12 md12 lg12"><Ctrls>
<ListCtrl Name="user_role_vLst" ToolTip="ttp_user_role_v" Size="700,450" OnLoad="init" Heading="role_name,250;layout,250;insert_time,150;insert_emp,55;del_opera,55;del_time,150;opera,55;role_id,55;" loadedclick="0">
	<DbDetails >
<Index>role_id</Index>
<DbTable>his.user_role u left join his.users u0 on u.opera=u0.user_id</DbTable>
<Data>u.role_name,u.layout,u.insert_time,u.insert_emp,u.del_opera,u.del_time,u0.user_name opera,u.role_id</Data>
<Order>role_id</Order></DbDetails>
<operator refresh="1" initial="0" firstpage="0" prepage="0" nextpage="0">
<op text="modify"><DbDetails><Where>role_id='%{user_role_vLst[role_id]}'</Where></DbDetails><submit namelist="DbDetails" next="$this.user_role.user_roleLst"/><assign name="$this.user_role.frmwndctrl" expr="%{this}"/></op>
<op text="delete" needconfirm="1"><DbDetails>
<DbTable>his.user_role</DbTable>
<Where>role_id='%{user_role_vLst[role_id]}'</Where>
<queryFormat>delete from %{table} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><submit/></op>
</operator>
<OnChanged>
<assign name="pgcur_user_role" expr="js(%{user_role_vLst[currentpage]}+1)"/>
<assign name="pgscb_user_role" expr="js(%{user_role_vLst[currentpage]}+1)" function="SetSel"/>
</OnChanged></ListCtrl>
</Ctrls></GroupBox>